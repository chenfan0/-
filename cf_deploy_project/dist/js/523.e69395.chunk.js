"use strict";(self.webpackChunkvue3_cms=self.webpackChunkvue3_cms||[]).push([[523],{3946:function(e,t,n){n.d(t,{Z:function(){return w}});var r=n(9839),o=n(1536),a=n(264),i=n(783),l=n(5452),u=n(4329),c=n(6252),s=n(3577),f=n(2262);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={class:"cf-form"},y={class:"header"},m={class:"footer"},g=(0,c.aZ)({props:{modelValue:{type:Object,require:!0},formItems:{type:Array,default:function(){return[]}},labelWidth:{type:String,default:"80px"},itemStyle:{type:Object,default:function(){return{padding:"10px 30px"}}},colLayout:{type:Object,default:function(){return{xs:24,sm:24,md:12,lg:8,xl:8}}}},emits:["update:modelValue"],setup:function(e,t){var n=t.emit,g=e,w=(0,f.iH)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}({},g.modelValue));return(0,c.YP)(w.value,(function(e){n("update:modelValue",e)}),{deep:!0}),function(t,n){var f=u.E,d=r.nH,g=l.BT,v=l.km,h=i.i,b=a.D,k=o.d,C=r.ly;return(0,c.wg)(),(0,c.iD)("div",p,[(0,c._)("div",y,[(0,c.WI)(t.$slots,"header")]),(0,c.Wm)(C,{"label-width":e.labelWidth},{default:(0,c.w5)((function(){return[(0,c.Wm)(k,null,{default:(0,c.w5)((function(){return[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(e.formItems,(function(t){return(0,c.wg)(),(0,c.j4)(b,(0,s.normalizeProps)((0,c.dG)({key:t.label},e.colLayout)),{default:(0,c.w5)((function(){return["input"===t.type||"password"===t.type?((0,c.wg)(),(0,c.iD)(c.HY,{key:0},[t.isHidden?(0,c.kq)("v-if",!0):((0,c.wg)(),(0,c.j4)(d,{key:0,label:t.label,style:(0,s.normalizeStyle)(e.itemStyle)},{default:(0,c.w5)((function(){return[(0,c.Wm)(f,(0,c.dG)({placeholder:t.placeholder},t.otherOptions,{showPassword:"password"===t.type,modelValue:w.value[t.field],"onUpdate:modelValue":function(e){return w.value[t.field]=e}}),null,16,["placeholder","showPassword","modelValue","onUpdate:modelValue"])]})),_:2},1032,["label","style"]))],2112)):"select"===t.type?((0,c.wg)(),(0,c.iD)(c.HY,{key:1},[t.isHidden?(0,c.kq)("v-if",!0):((0,c.wg)(),(0,c.j4)(d,{key:0,label:t.label,style:(0,s.normalizeStyle)(e.itemStyle)},{default:(0,c.w5)((function(){return[(0,c.Wm)(v,{style:{width:"100%"},placeholder:t.placeholder,modelValue:w.value[t.field],"onUpdate:modelValue":function(e){return w.value[t.field]=e}},{default:(0,c.w5)((function(){return[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(t.options,(function(e){return(0,c.wg)(),(0,c.j4)(g,(0,s.normalizeProps)((0,c.dG)({key:e.label},e)),null,16)})),128))]})),_:2},1032,["placeholder","modelValue","onUpdate:modelValue"])]})),_:2},1032,["label","style"]))],2112)):"datePicker"===t.type?((0,c.wg)(),(0,c.iD)(c.HY,{key:2},[t.isHidden?(0,c.kq)("v-if",!0):((0,c.wg)(),(0,c.j4)(d,{key:0,label:t.label,style:(0,s.normalizeStyle)(e.itemStyle)},{default:(0,c.w5)((function(){return[(0,c.Wm)(h,(0,c.dG)({type:"daterange",style:{width:"100%"}},t.otherOptions,{modelValue:w.value[t.field],"onUpdate:modelValue":function(e){return w.value[t.field]=e}}),null,16,["modelValue","onUpdate:modelValue"])]})),_:2},1032,["label","style"]))],2112)):(0,c.kq)("v-if",!0)]})),_:2},1040)})),128))]})),_:1})]})),_:1},8,["label-width"]),(0,c._)("div",m,[(0,c.WI)(t.$slots,"footer")])])}}});var w=(0,n(3744).Z)(g,[["__scopeId","data-v-d4fddc2e"]])},6624:function(e,t,n){n.d(t,{Z:function(){return _}});var r=n(3800),o=n(6252),a=n(2262),i=n(3577),l=n(4250);function u(e,t){var n=(0,l.oR)().state.login.userPermission,r="system:".concat(e,":").concat(t);return!!n.find((function(e){return e===r}))}var c=n(3),s=n(4443),f={class:"cf-table"},d=(0,o.aZ)({props:{title:{type:String,default:""},listData:{type:Array,required:!0},propList:{type:Array,required:!0},showIndex:{type:Boolean,default:!1},showSelection:{type:Boolean,default:!1},dataListCount:{type:Number,default:0},showPagination:{type:Boolean,default:!0},showTree:{type:Boolean,default:!1}},emits:["pageSizeChange","currentPageChange"],setup:function(e,t){var n=t.emit,r=function(e){u.value=e,n("pageSizeChange",e)},l=function(e){n("currentPageChange",e,u.value)},u=(0,a.iH)(10);return function(t,n){var a=s.$Y,d=s.eI,p=c.R;return(0,o.wg)(),(0,o.iD)("div",f,[(0,o.WI)(t.$slots,"header",{},(function(){return[(0,o._)("h2",null,(0,i.toDisplayString)(e.title),1)]})),(0,o.Wm)(d,{data:e.listData,border:"",style:{width:"100%"},align:"center","row-key":"id","tree-props":e.showTree?{children:"children"}:{children:"nononon"}},{default:(0,o.w5)((function(){return[e.showSelection?((0,o.wg)(),(0,o.j4)(a,{key:0,type:"selection",align:"center"})):(0,o.kq)("v-if",!0),e.showIndex?((0,o.wg)(),(0,o.j4)(a,{key:1,type:"index",label:"序号",width:"80",align:"center"})):(0,o.kq)("v-if",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.propList,(function(e){return(0,o.wg)(),(0,o.j4)(a,(0,o.dG)({key:e.id,"show-overflow-tooltip":""},e,{align:"center"}),{default:(0,o.w5)((function(n){return[(0,o.WI)(t.$slots,e.prop,{row:n.row},(function(){return[(0,o.Uk)((0,i.toDisplayString)(n.row[e.prop]),1)]}))]})),_:2},1040)})),128))]})),_:3},8,["data","tree-props"]),(0,o.WI)(t.$slots,"footer",{},(function(){return[e.showPagination?((0,o.wg)(),(0,o.j4)(p,{key:0,class:"pagination","page-sizes":[10,20,30],"page-size":u.value,layout:"total, sizes, prev, pager, next, jumper",total:e.dataListCount,onSizeChange:r,onCurrentChange:l},null,8,["page-size","total"])):(0,o.kq)("v-if",!0)]}))])}}}),p=n(3744);var y=(0,p.Z)(d,[["__scopeId","data-v-633305ce"]]);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}var w={class:"page-content"},v={class:"header"},h={class:"title"},b=(0,o.Uk)(" 新建 "),k=(0,o.Uk)("编辑"),C=(0,o.Uk)("删除"),S=(0,o.aZ)({props:{tableContentConfig:{type:Object,required:!0},pageName:{type:String,required:!0}},emits:["editClick","newClick"],setup:function(e,t){var n=t.expose,c=t.emit,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};I&&S.dispatch("system/getPageListAction",{pageName:m.pageName,queryInfo:g({offset:0,size:10},e)})},f=function(e,t){var n;S.commit("system/changeTotalQueryInfo",{offset:(e-1)*t,size:t}),s(null===(n=S.state.system)||void 0===n?void 0:n.totalQueryInfo)},d=function(e){var t;S.commit("system/changeTotalQueryInfo",{size:e}),s(null===(t=S.state.system)||void 0===t?void 0:t.totalQueryInfo)},p=function(){c("newClick")},m=e,S=(0,l.oR)(),_=(0,o.Fl)((function(){return S.state.system[m.pageName+"List"]})),j=(0,o.Fl)((function(){return S.state.system[m.pageName+"Count"]})),O=u(m.pageName,"create"),D=u(m.pageName,"update"),P=u(m.pageName,"delete"),I=u(m.pageName,"query");s();var U=m.tableContentConfig.propList.filter((function(e){return"enable"!==e.prop&&("createAt"!==e.prop&&("updateAt"!==e.prop&&"operation"!==e.prop))}));return n({getListData:s}),function(t,n){var l=r.mi;return(0,o.wg)(),(0,o.iD)("div",w,[(0,o.Wm)((0,a.SU)(y),(0,o.dG)({"list-data":(0,a.SU)(_),"data-list-count":(0,a.SU)(j)},e.tableContentConfig,{onCurrentPageChange:f,onPageSizeChange:d}),(0,o.Nv)({header:(0,o.w5)((function(){return[(0,o.WI)(t.$slots,"header",{},(function(){return[(0,o._)("div",v,[(0,o._)("div",h,(0,i.toDisplayString)(e.tableContentConfig.title),1),(0,a.SU)(O)?((0,o.wg)(),(0,o.j4)(l,{key:0,type:"primary",size:"medium",onClick:p},{default:(0,o.w5)((function(){return[b]})),_:1})):(0,o.kq)("v-if",!0)])]}))]})),enable:(0,o.w5)((function(e){return[(0,o.Wm)(l,{size:"mini",type:1===e.row.enable?"success":"danger",plain:""},{default:(0,o.w5)((function(){return[(0,o.Uk)((0,i.toDisplayString)(1===e.row.enable?"启用":"禁用"),1)]})),_:2},1032,["type"])]})),createAt:(0,o.w5)((function(e){return[(0,o._)("strong",null,(0,i.toDisplayString)(t.$filter.format(e.row.createAt)),1)]})),updateAt:(0,o.w5)((function(e){return[(0,o._)("strong",null,(0,i.toDisplayString)(t.$filter.format(e.row.updateAt)),1)]})),operation:(0,o.w5)((function(e){return[(0,a.SU)(D)?((0,o.wg)(),(0,o.j4)(l,{size:"mini",icon:"el-icon-edit",type:"text",key:(0,a.SU)(D),onClick:function(t){return n=e.row,void c("editClick",n);var n}},{default:(0,o.w5)((function(){return[k]})),_:2},1032,["onClick"])):(0,o.kq)("v-if",!0),(0,a.SU)(P)?((0,o.wg)(),(0,o.j4)(l,{size:"mini",icon:"el-icon-delete",type:"text",key:(0,a.SU)(P),onClick:function(t){return n=e.row,void S.dispatch("system/deletePageDataAction",{pageName:m.pageName,id:n.id});var n}},{default:(0,o.w5)((function(){return[C]})),_:2},1032,["onClick"])):(0,o.kq)("v-if",!0)]})),_:2},[(0,o.Ko)((0,a.SU)(U),(function(e){return{name:e.prop,fn:(0,o.w5)((function(n){return[(0,o.WI)(t.$slots,e.prop,{row:n.row})]}))}}))]),1040,["list-data","data-list-count"])])}}});var _=(0,p.Z)(S,[["__scopeId","data-v-3d7112af"]])},8055:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(3800),o=n(6252),a=n(2262),i=n(3946),l={class:"page-search"},u=function(e){return(0,o.dD)("data-v-2a11a59b"),e=e(),(0,o.Cn)(),e}((function(){return(0,o._)("h1",{class:"header"},"查询",-1)})),c={class:"footer"},s=(0,o.Uk)("重置"),f=(0,o.Uk)("搜索"),d=(0,o.aZ)({props:{formSearchConfig:{type:Object,required:!0}},emits:["resetClick","searchClick"],setup:function(e,t){var n=t.emit,d=function(){for(var e in y)m.value[e]="";n("resetClick")},p=function(){n("searchClick",m.value)},y={};e.formSearchConfig.formItems.forEach((function(e){y[e.field]=""}));var m=(0,a.iH)(y);return function(t,n){var y=r.mi;return(0,o.wg)(),(0,o.iD)("div",l,[(0,o.Wm)((0,a.SU)(i.Z),(0,o.dG)(e.formSearchConfig,{modelValue:m.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return m.value=e})}),{header:(0,o.w5)((function(){return[u]})),footer:(0,o.w5)((function(){return[(0,o._)("div",c,[(0,o.Wm)(y,{icon:"el-icon-refresh",onClick:d},{default:(0,o.w5)((function(){return[s]})),_:1}),(0,o.Wm)(y,{type:"primary",icon:"el-icon-search",onClick:p},{default:(0,o.w5)((function(){return[f]})),_:1})])]})),_:1},16,["modelValue"])])}}});var p=(0,n(3744).Z)(d,[["__scopeId","data-v-2a11a59b"]])},4980:function(e,t,n){n.d(t,{b:function(){return l}});var r=n(2262),o=n(4250);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function l(){var e=(0,o.oR)(),t=(0,r.iH)();return[t,function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.commit("system/changeTotalQueryInfo",i({},n)),t.value.getListData(e.state.system.totalQueryInfo)},function(){t.value.getListData()}]}}}]);