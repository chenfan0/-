(self.webpackChunkvue3_cms=self.webpackChunkvue3_cms||[]).push([[179],{3237:function(e,t,n){"use strict";var r=n(9963),o=(n(1968),n(1231),n(2119)),a=n(4858),i=n(5504),u=[{path:"/",redirect:"/main"},{path:"/main",name:"main",component:function(){return n.e(371).then(n.bind(n,6371))}},{path:"/login",name:"login",component:function(){return n.e(870).then(n.bind(n,6870))}},{path:"/:pathMatch(.*)*",name:"not-found",component:function(){return n.e(197).then(n.bind(n,6197))}}],c=(0,o.p7)({history:(0,o.PO)(),routes:u});c.beforeEach((function(e){if("/login"!==e.path&&!a.Z.getCatch("token"))return"/login";if("/main"===e.path&&null!==i.Sl)return i.Sl.path}));var s=c,l=n(5666),f=n.n(l),d=n(4250),h=n(9669),p=n.n(h),v=n(8051),g=n(7727);function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){y(e,t,n[t])}))}return e}var C,w=new(function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.instance=p().create(t),this.interceptors=t.interceptors,this.isLoading=null===(n=t.showLoading)||void 0===n||n,this.handleGlobalInterceptors(),this.handleInstanceInterceptors()}var t,n,r;return t=e,(n=[{key:"handleGlobalInterceptors",value:function(){var e=this;this.instance.interceptors.request.use((function(t){return e.isLoading&&(e.loadingInstance=v.kN.service({text:"正在加载数据中~",background:"rgba(0, 0, 0, 0.5)"})),t}),(function(e){console.log(e)})),this.instance.interceptors.response.use((function(t){var n;return null===(n=e.loadingInstance)||void 0===n||n.close(),400===t.data.code&&g.z.error(t.data.data),t.data}),(function(){var t;null===(t=e.loadingInstance)||void 0===t||t.close()}))}},{key:"handleInstanceInterceptors",value:function(){var e,t,n,r;this.instance.interceptors.request.use(null===(e=this.interceptors)||void 0===e?void 0:e.requestInterceptor,null===(t=this.interceptors)||void 0===t?void 0:t.requestInterceptorCatch),this.instance.interceptors.response.use(null===(n=this.interceptors)||void 0===n?void 0:n.responseInterceptor,null===(r=this.interceptors)||void 0===r?void 0:r.responseInterceptorCatch)}},{key:"request",value:function(e){var t=this;return new Promise((function(n,r){var o;(null===(o=e.interceptors)||void 0===o?void 0:o.requestInterceptor)&&(e=e.interceptors.requestInterceptor(e)),t.instance.request(e).then((function(t){var r;(null===(r=e.interceptors)||void 0===r?void 0:r.responseInterceptor)&&(t=e.interceptors.responseInterceptor(t)),n(t)})).catch((function(e){r(e)}))}))}},{key:"get",value:function(e){return this.request(b({},e,{method:"GET"}))}},{key:"post",value:function(e){return this.request(b({},e,{method:"POST"}))}},{key:"patch",value:function(e){return this.request(b({},e,{method:"PATCH"}))}},{key:"delete",value:function(e){return this.request(b({},e,{method:"delete"}))}}])&&m(t.prototype,n),r&&m(t,r),e}())({baseURL:"http://81.71.36.158:10001",interceptors:{requestInterceptor:function(e){var t=a.Z.getCatch("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}}});function k(e,t){return w.post({url:e,data:t})}function I(e){return w.delete({url:e})}function P(e,t){return w.post({url:e,data:t})}function S(e,t){return w.patch({url:e,data:t})}function x(e){return w.get({url:C.userMenu+e+"/menu"})}function L(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}!function(e){e.login="/login",e.userInfo="/users/",e.userMenu="/role/"}(C||(C={}));var G={namespaced:!0,state:function(){return{token:"",userInfo:"",userMenu:[],userPermission:[]}},mutations:{changeToken:function(e,t){e.token=t},changeUserInfo:function(e,t){e.userInfo=t},changeUserMenu:function(e,t){e.userMenu=t;var n=(0,i.xC)(e.userMenu);n&&n.forEach((function(e){return s.addRoute("main",e)})),e.userPermission=(0,i.WZ)(e.userMenu),(0,i.xz)(e.userPermission,e.userMenu)}},getters:{},actions:{accountLoginAction:function(e,t){var n,r=e.commit,o=e.dispatch;return(n=f().mark((function e(){var n,i,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l=t,w.post({url:C.login,data:l});case 2:if(0!==(n=e.sent).code){e.next=18;break}return r("changeToken",n.data.token),a.Z.setCatch("token",n.data.token),o("getInitialDataAction",null,{root:!0}),e.next=9,c=n.data.id,w.get({url:C.userInfo+c});case 9:return i=e.sent,r("changeUserInfo",i.data),a.Z.setCatch("userInfo",i.data),e.next=14,x(n.data.id);case 14:u=e.sent,a.Z.setCatch("userMenu",u.data),r("changeUserMenu",a.Z.getCatch("userMenu")),s.push("/main");case 18:case"end":return e.stop()}var c,l}),e)})),function(){var e=this,t=arguments;return new Promise((function(r,o){var a=n.apply(e,t);function i(e){L(a,r,o,i,u,"next",e)}function u(e){L(a,r,o,i,u,"throw",e)}i(void 0)}))})()},setupLoginStoreAction:function(e){var t=e.commit,n=e.dispatch;a.Z.getCatch("token")&&(t("changeToken",a.Z.getCatch("token")),n("getInitialDataAction",null,{root:!0})),a.Z.getCatch("userInfo")&&t("changeUserInfo",a.Z.getCatch("userInfo")),a.Z.getCatch("token")&&t("changeToken",a.Z.getCatch("token")),a.Z.getCatch("userMenu")&&t("changeUserMenu",a.Z.getCatch("userMenu"))}}},O=G;function M(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){M(a,r,o,i,u,"next",e)}function u(e){M(a,r,o,i,u,"throw",e)}i(void 0)}))}}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A,E={namespaced:!0,state:function(){return{totalQueryInfo:{offset:0,size:10},usersCount:0,usersList:[],roleList:[],roleCount:0,departmentList:[],departmentCount:0,menuList:[],menuCount:0,goodsList:[],goodsCount:0,categoryList:[],categoryCount:0}},getters:{},mutations:{changeTotalQueryInfo:function(e,t){e.totalQueryInfo=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){D(e,t,n[t])}))}return e}({},e.totalQueryInfo,t)},changeUsersCount:function(e,t){e.usersCount=t},changeUsersList:function(e,t){e.usersList=t},changeRoleList:function(e,t){e.roleList=t},changeRoleCount:function(e,t){e.roleCount=t},changeDepartmentList:function(e,t){e.departmentList=t},changeDepartmentCount:function(e,t){e.departmentCount=t},changeMenuList:function(e,t){e.menuList=t},changeMenuCount:function(e,t){e.menuCount=t},changeCategoryList:function(e,t){e.categoryList=t},changeCategoryCount:function(e,t){e.categoryCount=t},changeGoodsList:function(e,t){e.goodsList=t},changeGoodsCount:function(e,t){e.goodsCount=t}},actions:{getPageListAction:function(e,t){var n=e.commit;return j(f().mark((function e(){var r,o,a,i,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.pageName,o="/".concat(r,"/list"),a="change".concat(r.slice(0,1).toUpperCase()+r.slice(1),"Count"),i="change".concat(r.slice(0,1).toUpperCase()+r.slice(1),"List"),e.next=6,k(o,t.queryInfo);case 6:u=e.sent,n(a,null==u?void 0:u.data.totalCount),n(i,null==u?void 0:u.data.list);case 9:case"end":return e.stop()}}),e)})))()},deletePageDataAction:function(e,t){var n=e.dispatch;return j(f().mark((function e(){var r,o,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.pageName,o=t.id,a="/".concat(r,"/").concat(o),e.next=4,I(a);case 4:n("getPageListAction",{pageName:r});case 5:case"end":return e.stop()}}),e)})))()},createPageDataAction:function(e,t){var n=e.dispatch,r=e.state;return j(f().mark((function e(){var o,a,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.pageName,a=t.newData,i="/".concat(o),e.next=4,P(i,a);case 4:n("getPageListAction",{pageName:o,queryInfo:r.totalQueryInfo});case 5:case"end":return e.stop()}}),e)})))()},editPageDataAction:function(e,t){var n=e.dispatch,r=e.state;return j(f().mark((function e(){var o,a,i,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.pageName,a=t.editData,i=t.id,u="/".concat(o,"/").concat(i),e.next=4,S(u,a);case 4:n("getPageListAction",{pageName:o,queryInfo:r.totalQueryInfo});case 5:case"end":return e.stop()}}),e)})))()}}},Z=E;function q(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}!function(e){e.categoryGoodsCount="/goods/category/count",e.categoryGoodsSale="/goods/category/sale",e.categoryGoodsFavor="/goods/category/favor",e.addressGoodsSale="/goods/address/sale"}(A||(A={}));var U={namespaced:!0,state:function(){return{categoryGoodsCount:[],categoryGoodsFavor:[],categoryGoodsSale:[],addressGoodsSale:[]}},mutations:{changeCategoryGoodsCount:function(e,t){e.categoryGoodsCount=t},changeCategoryGoodsSale:function(e,t){e.categoryGoodsSale=t},changeCategoryGoodsFavor:function(e,t){e.categoryGoodsFavor=t},changeAddressGoodsSale:function(e,t){e.addressGoodsSale=t}},actions:{getDashboardDataAction:function(e){var t,n=e.commit;return(t=f().mark((function e(){var t,r,o,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.get({url:A.categoryGoodsCount});case 2:return t=e.sent,n("changeCategoryGoodsCount",t.data),e.next=6,w.get({url:A.categoryGoodsSale});case 6:return r=e.sent,n("changeCategoryGoodsSale",r.data),e.next=10,w.get({url:A.categoryGoodsFavor});case 10:return o=e.sent,n("changeCategoryGoodsFavor",o.data),e.next=14,w.get({url:A.addressGoodsSale});case 14:a=e.sent,n("changeAddressGoodsSale",a.data);case 16:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){q(a,r,o,i,u,"next",e)}function u(e){q(a,r,o,i,u,"throw",e)}i(void 0)}))})()}}},T=U;function N(e,t,n,r,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var F=(0,d.MT)({state:function(){return{entireDepartment:[],entireRole:[],entireMenu:[]}},mutations:{changeEntireDepartment:function(e,t){e.entireDepartment=t},changeEntireRole:function(e,t){e.entireRole=t},changeEntireMenu:function(e,t){e.entireMenu=t}},getters:{},actions:{getInitialDataAction:function(e){var t,n=e.commit;return(t=f().mark((function e(){var t,r,o,a,i,u,c,s,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k("/department/list",{offset:0,size:1e3});case 2:return t=e.sent,r=t.data,o=r.list,e.next=6,k("/role/list",{offset:0,size:1e3});case 6:return a=e.sent,i=a.data,u=i.list,e.next=10,k("/menu/list",{});case 10:c=e.sent,s=c.data,l=s.list,n("changeEntireDepartment",o),n("changeEntireRole",u),n("changeEntireMenu",l);case 15:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(e){N(a,r,o,i,u,"next",e)}function u(e){N(a,r,o,i,u,"throw",e)}i(void 0)}))})()}},modules:{login:O,system:Z,dashboard:T}});var R=F,_=n(3800),z=n(1201),Q=n(9839),Y=n(4329),H=n(62),W=n(6482),K=n(7795),B=n(6667),J=n(125),X=n(2080),$=n(1536),V=n(264),ee=n(783),te=n(5452),ne=n(120),re=n(4443),oe=n(3),ae=n(3766),ie=n(440),ue=n(7580),ce=n(5583),se=n(2429),le=n(1262),fe=[_.mi,z.Ub,Q.ly,Y.E,H.Xb,W.E,K.G4,B.Q8,J.vs,X.YK,$.d,V.D,ee.i,te.km,ne.qc,re.eI,oe.R,ae.F,ie.d0,ue.y,ce.Kf,se.K,le.Lf];var de=n(7484),he=n.n(de),pe=n(178),ve=n.n(pe);he().extend(ve());var ge="YYYY-MM-DD HH:mm:ss";var me=n(6252),ye=n(2262),be=n(6301),Ce=n(8538),we={class:"App"},ke=(0,me.aZ)({setup:function(e){var t=Ce.Z;return function(e,n){var r=(0,me.up)("router-view");return(0,me.wg)(),(0,me.j4)((0,ye.SU)(be.B),{locale:(0,ye.SU)(t)},{default:(0,me.w5)((function(){return[(0,me._)("div",we,[(0,me.Wm)(r)])]})),_:1},8,["locale"])}}});var Ie=(0,n(3744).Z)(ke,[["__scopeId","data-v-7fa22da4"]]),Pe=(0,r.createApp)(Ie);Pe.use((function(e){e.config.globalProperties.$filter={format:function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ge;return he().utc(e).utcOffset(8).format(t)}(e,t)}}})),Pe.use((function(e){fe.forEach((function(t){e.use(t)}))})),Pe.use(R),R.dispatch("login/setupLoginStoreAction"),Pe.use(s),Pe.mount("#app")},7350:function(e,t,n){"use strict";n.r(t);t.default={path:"/main/analysis/dashboard",name:"dashboard",component:function(){return Promise.all([n.e(307),n.e(979)]).then(n.bind(n,8979))},children:[]}},8268:function(e,t,n){"use strict";n.r(t);t.default={path:"/main/analysis/overview",name:"overview",component:function(){return Promise.all([n.e(35),n.e(497)]).then(n.bind(n,9398))},children:[]}},7844:function(e,t,n){"use strict";n.r(t);t.default={path:"/main/product/category",name:"category",component:function(){return Promise.all([n.e(523),n.e(992)]).then(n.bind(n,3144))},children:[]}},1264:function(e,t,n){"use strict";n.r(t);t.default={path:"/main/product/goods",name:"goods",component:function(){return Promise.all([n.e(523),n.e(86)]).then(n.bind(n,871))},children:[]}},1725:function(e,t,n){"use strict";n.r(t);t.default={path:"/main/system/department",name:"department",component:function(){return Promise.all([n.e(523),n.e(108)]).then(n.bind(n,3436))},children:[]}},7937:function(e,t,n){"use strict";n.r(t);t.default={path:"/main/system/menu",name:"menu",component:function(){return Promise.all([n.e(523),n.e(880)]).then(n.bind(n,7446))},children:[]}},6962:function(e,t,n){"use strict";n.r(t);t.default={path:"/main/system/role",name:"role",component:function(){return Promise.all([n.e(523),n.e(830)]).then(n.bind(n,5965))},children:[]}},3384:function(e,t,n){"use strict";n.r(t);t.default={path:"/main/system/users",name:"user",component:function(){return Promise.all([n.e(523),n.e(12)]).then(n.bind(n,5536))},children:[]}},4858:function(e,t,n){"use strict";var r=n(1354),o=n.n(r);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i="sdkfjklsdjfkljaskldfjlasdjfklsdjfklasdjfjaskdfjklsdjfkl";var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"setCatch",value:function(e,t){var n,r=(n=JSON.stringify(t),o().AES.encrypt(n,i).toString());window.localStorage.setItem("cms:".concat(e),r)}},{key:"getCatch",value:function(e){var t,n=window.localStorage.getItem("cms:".concat(e));if(n)return JSON.parse((t=n,o().AES.decrypt(t,i).toString(o().enc.Utf8)))}},{key:"deleteCache",value:function(e){window.localStorage.removeItem("cms:".concat(e))}},{key:"clearCatch",value:function(){window.localStorage.clear()}}])&&a(t.prototype,n),r&&a(t,r),e}();t.Z=new u},5504:function(e,t,n){"use strict";n.d(t,{Sl:function(){return r},xC:function(){return o},TH:function(){return a},fF:function(){return i},WZ:function(){return u},xz:function(){return c},v_:function(){return s}});var r=null;function o(e){var t=[],o=[],a=n(372);a.keys().forEach((function(e){var t=a(e);o.push(t.default)}));var i=function(e){var n=function(n){if(1===e[n].type)i(e[n].children);else if(2===e[n].type){var a=o.find((function(t){return t.path===e[n].url}));a&&(r||(r=a),t.push(a))}};for(var a in e)n(a)};return i(e),t}function a(e,t,n){var r=!0,o=!1,i=void 0;try{for(var u,c=e[Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var s=u.value;if(1===s.type){var l=a(s.children,t);if(l)return n?(n.push({name:s.name}),n.push({name:l.name}),n):l.id}else if(2===s.type&&s.url===t)return s}}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}}function i(e,t,n){return a(e,t,n)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];function n(e){var r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var c,s=i.value;if(1===s.type||2===s.type)n(null!==(c=s.children)&&void 0!==c?c:[]);else 3===s.type&&t.push(s.permission)}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}}return n(e),t}function c(e,t){var n=[];for(var r in e)e[r].endsWith("query")&&n.push(e[r].split(":")[1]);for(var o=1;o<t.length;o++){for(var a=t[o].children,i=[],u=0;u<a.length;u++){var c=a[u].url.split("/");n.includes(c[c.length-1])&&i.push(a[u])}t[o].children=i}}function s(e){var t=[],n=function(e){var r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){var c=i.value;c.children?n(c.children):3!==c.type&&5!==c.id&&6!==c.id||t.push(c.id)}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}};return n(e),t}},372:function(e,t,n){var r={"./analysis/dashboard/dashboard.ts":7350,"./analysis/overview/overview.ts":8268,"./product/category/category.ts":7844,"./product/goods/goods.ts":1264,"./system/department/department.ts":1725,"./system/menu/menu.ts":7937,"./system/role/role.ts":6962,"./system/user/user.ts":3384};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=372},2480:function(){}},function(e){e.O(0,[864],(function(){return t=3237,e(e.s=t);var t}));e.O()}]);